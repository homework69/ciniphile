import{l as v,m as f,n as y,h,p as k,r as x,o as a,c as o,b as t,w as _,v as S,F as d,j as $,k as V,q as b,u as w,s as B,f as C,a as L}from"./index-taWSVO8y.js";const N=v({id:"searching",state:()=>({url:"https://api.themoviedb.org/3/search/multi",searching:null,search:""}),actions:{async getSearch(i=1){if(this.search)try{const e=await y.get(`${this.url}?api_key=${f}&language=ru-RU&query=${this.search}&page=${i}`);this.searching=e.data.results}catch(e){console.log("Произошла ошибка при поиске",e)}else this.searching=null}},getters:{}}),R={class:"search"},q={class:"container"},z={key:0,class:"list"},D={class:"container"},F={class:"list__img",alt:""},I={__name:"Search",setup(i){const e=N(),m=((r,c)=>{let s=null;return()=>{s&&clearInterval(s),s=setTimeout(()=>{r()},c)}})(e.getSearch,100),l=h(()=>e.searching),u=h({get:()=>e.search,set:r=>{e.search=r,m()}});return(r,c)=>{const s=k("RouterLink"),g=x("lazy");return a(),o(d,null,[t("div",R,[t("div",q,[_(t("input",{type:"text",placeholder:"Найти фильм, сериал...",class:"search__input","onUpdate:modelValue":c[0]||(c[0]=n=>u.value=n)},null,512),[[S,u.value]])])]),l.value?(a(),o("div",z,[t("div",D,[(a(!0),o(d,null,$(l.value,n=>(a(),V(s,{to:"/",key:n.id},{default:b(()=>[_(t("img",F,null,512),[[g,w(C)+n.poster_path]])]),_:2},1024))),128))])])):B("",!0)],64)}}},T={class:"main"},j={__name:"SearchPage",setup(i){return(e,p)=>(a(),o("main",T,[L(I)]))}};export{j as default};
